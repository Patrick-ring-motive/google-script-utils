<!DOCTYPE html>
<html>
<body>
<h1>Image Fetch</h1>
<input type="text" id="input-query"></inupt>
<button id="image-get">GET</button>
<img id="output-image"></img>
<script>
void async function ImageFetchApp(){
  const apiURL = 'https://script.google.com/macros/s/AKfycbyYdWd-jiwpONWWhW-8xw8cCo0LHEWuv5nxILott0ERenFyvV7DdeO85g9ffnqGLwG7Nw/exec';
  const select = x => document.querySelector(x);
  await import('https://unpkg.com/znodejs@1.0.4/zglobals.mjs');
  (select('button[id="image-get"]')??{}).onclick = async () => {
    const encoded = await zfetchText(`${apiURL}?query=${select('input[id="input-query"]')?.value}`);
    console.log(encoded);
    (select('img[id="output-image"]')??{}).src = encoded;
  };
}?.();  
</script> 
</body>
</html>
